// SpeaNeon.inc
//
// Generated by: Henry Wagner (povray@henrywagner.org)

#include "functions.inc"

#declare Neon_Rad = 0.4;
#declare Neon_Size = 18;
#declare Neon_Height = 79;

#if (clock_on=1)
    #declare FN = mod(frame_number, 40);
    #switch (FN)
        #range(0, 5)
            #declare neonRedBrightness = FN;
            #break                      
        #range(5,35)
            #declare neonRedBrightness = 5;
            #break                      
        #range(35,40)
            #declare neonRedBrightness = 5 - (FN - 35);
            #break                      
        #else
            #declare neonRedBrightness = 0;        
    #end
#else
    #declare neonRedBrightness = 5;
#end

/*
#declare Speaker_Neon = union {
   cylinder {
      < -16, 0, 0 >,
      < -15.9391, 0, -1.39449 >,
      Neon_Rad
   }
   sphere { < -15.9391, 0, -1.39449 >, Neon_Rad }
   cylinder {
      < -16, -2, 0 >,
      < -15.9391, -2, -1.39449 >,
      Neon_Rad
   }
   sphere { < -15.9391, -2, -1.39449 >, Neon_Rad }
   cylinder {
      < -15.9391, 0, -1.39449 >,
      < -15.7569, 0, -2.77837 >,
      Neon_Rad
   }
   sphere { < -15.7569, 0, -2.77837 >, Neon_Rad }
   cylinder {
      < -15.9391, -2, -1.39449 >,
      < -15.7569, -2, -2.77837 >,
      Neon_Rad
   }
   sphere { < -15.7569, -2, -2.77837 >, Neon_Rad }
   cylinder {
      < -15.7569, 0, -2.77837 >,
      < -15.4548, 0, -4.14111 >,
      Neon_Rad
   }
   sphere { < -15.4548, 0, -4.14111 >, Neon_Rad }
   cylinder {
      < -15.7569, -2, -2.77837 >,
      < -15.4548, -2, -4.14111 >,
      Neon_Rad
   }
   sphere { < -15.4548, -2, -4.14111 >, Neon_Rad }
   cylinder {
      < -15.4548, 0, -4.14111 >,
      < -15.0351, 0, -5.47232 >,
      Neon_Rad
   }
   sphere { < -15.0351, 0, -5.47232 >, Neon_Rad }
   cylinder {
      < -15.4548, -2, -4.14111 >,
      < -15.0351, -2, -5.47232 >,
      Neon_Rad
   }
   sphere { < -15.0351, -2, -5.47232 >, Neon_Rad }
   cylinder {
      < -15.0351, 0, -5.47232 >,
      < -14.5009, 0, -6.76189 >,
      Neon_Rad
   }
   sphere { < -14.5009, 0, -6.76189 >, Neon_Rad }
   cylinder {
      < -15.0351, -2, -5.47232 >,
      < -14.5009, -2, -6.76189 >,
      Neon_Rad
   }
   sphere { < -14.5009, -2, -6.76189 >, Neon_Rad }
   cylinder {
      < -14.5009, 0, -6.76189 >,
      < -13.8564, 0, -8 >,
      Neon_Rad
   }
   sphere { < -13.8564, 0, -8 >, Neon_Rad }
   cylinder {
      < -14.5009, -2, -6.76189 >,
      < -13.8564, -2, -8 >,
      Neon_Rad
   }
   sphere { < -13.8564, -2, -8 >, Neon_Rad }
   cylinder {
      < -13.8564, 0, -8 >,
      < -13.1064, 0, -9.17722 >,
      Neon_Rad
   }
   sphere { < -13.1064, 0, -9.17722 >, Neon_Rad }
   cylinder {
      < -13.8564, -2, -8 >,
      < -13.1064, -2, -9.17722 >,
      Neon_Rad
   }
   sphere { < -13.1064, -2, -9.17722 >, Neon_Rad }
   cylinder {
      < -13.1064, 0, -9.17722 >,
      < -12.2567, 0, -10.2846 >,
      Neon_Rad
   }
   sphere { < -12.2567, 0, -10.2846 >, Neon_Rad }
   cylinder {
      < -13.1064, -2, -9.17722 >,
      < -12.2567, -2, -10.2846 >,
      Neon_Rad
   }
   sphere { < -12.2567, -2, -10.2846 >, Neon_Rad }
   cylinder {
      < -12.2567, 0, -10.2846 >,
      < -11.3137, 0, -11.3137 >,
      Neon_Rad
   }
   sphere { < -11.3137, 0, -11.3137 >, Neon_Rad }
   cylinder {
      < -12.2567, -2, -10.2846 >,
      < -11.3137, -2, -11.3137 >,
      Neon_Rad
   }
   sphere { < -11.3137, -2, -11.3137 >, Neon_Rad }
   cylinder {
      < -11.3137, 0, -11.3137 >,
      < -10.2846, 0, -12.2567 >,
      Neon_Rad
   }
   sphere { < -10.2846, 0, -12.2567 >, Neon_Rad }
   cylinder {
      < -11.3137, -2, -11.3137 >,
      < -10.2846, -2, -12.2567 >,
      Neon_Rad
   }
   sphere { < -10.2846, -2, -12.2567 >, Neon_Rad }
   cylinder {
      < -10.2846, 0, -12.2567 >,
      < -9.17722, 0, -13.1064 >,
      Neon_Rad
   }
   sphere { < -9.17722, 0, -13.1064 >, Neon_Rad }
   cylinder {
      < -10.2846, -2, -12.2567 >,
      < -9.17722, -2, -13.1064 >,
      Neon_Rad
   }
   sphere { < -9.17722, -2, -13.1064 >, Neon_Rad }
   cylinder {
      < -9.17722, 0, -13.1064 >,
      < -8, 0, -13.8564 >,
      Neon_Rad
   }
   sphere { < -8, 0, -13.8564 >, Neon_Rad }
   cylinder {
      < -9.17722, -2, -13.1064 >,
      < -8, -2, -13.8564 >,
      Neon_Rad
   }
   sphere { < -8, -2, -13.8564 >, Neon_Rad }
   cylinder {
      < -8, 0, -13.8564 >,
      < -6.76189, 0, -14.5009 >,
      Neon_Rad
   }
   sphere { < -6.76189, 0, -14.5009 >, Neon_Rad }
   cylinder {
      < -8, -2, -13.8564 >,
      < -6.76189, -2, -14.5009 >,
      Neon_Rad
   }
   sphere { < -6.76189, -2, -14.5009 >, Neon_Rad }
   cylinder {
      < -6.76189, 0, -14.5009 >,
      < -5.47232, 0, -15.0351 >,
      Neon_Rad
   }
   sphere { < -5.47232, 0, -15.0351 >, Neon_Rad }
   cylinder {
      < -6.76189, -2, -14.5009 >,
      < -5.47232, -2, -15.0351 >,
      Neon_Rad
   }
   sphere { < -5.47232, -2, -15.0351 >, Neon_Rad }
   cylinder {
      < -5.47232, 0, -15.0351 >,
      < -4.1411, 0, -15.4548 >,
      Neon_Rad
   }
   sphere { < -4.1411, 0, -15.4548 >, Neon_Rad }
   cylinder {
      < -5.47232, -2, -15.0351 >,
      < -4.1411, -2, -15.4548 >,
      Neon_Rad
   }
   sphere { < -4.1411, -2, -15.4548 >, Neon_Rad }
   cylinder {
      < -4.1411, 0, -15.4548 >,
      < -2.77837, 0, -15.7569 >,
      Neon_Rad
   }
   sphere { < -2.77837, 0, -15.7569 >, Neon_Rad }
   cylinder {
      < -4.1411, -2, -15.4548 >,
      < -2.77837, -2, -15.7569 >,
      Neon_Rad
   }
   sphere { < -2.77837, -2, -15.7569 >, Neon_Rad }
   cylinder {
      < -2.77837, 0, -15.7569 >,
      < -1.39449, 0, -15.9391 >,
      Neon_Rad
   }
   sphere { < -1.39449, 0, -15.9391 >, Neon_Rad }
   cylinder {
      < -2.77837, -2, -15.7569 >,
      < -1.39449, -2, -15.9391 >,
      Neon_Rad
   }
   sphere { < -1.39449, -2, -15.9391 >, Neon_Rad }
   cylinder {
      < -1.39449, 0, -15.9391 >,
      < 0, 0, -16 >,
      Neon_Rad
   }
   sphere { < 0, 0, -16 >, Neon_Rad }
   cylinder {
      < -1.39449, -2, -15.9391 >,
      < 0, -2, -16 >,
      Neon_Rad
   }
   sphere { < 0, -2, -16 >, Neon_Rad }
   cylinder {
      < 0, 0, -16 >,
      < 1.39449, 0, -15.9391 >,
      Neon_Rad
   }
   sphere { < 1.39449, 0, -15.9391 >, Neon_Rad }
   cylinder {
      < 0, -2, -16 >,
      < 1.39449, -2, -15.9391 >,
      Neon_Rad
   }
   sphere { < 1.39449, -2, -15.9391 >, Neon_Rad }
   cylinder {
      < 1.39449, 0, -15.9391 >,
      < 2.77837, 0, -15.7569 >,
      Neon_Rad
   }
   sphere { < 2.77837, 0, -15.7569 >, Neon_Rad }
   cylinder {
      < 1.39449, -2, -15.9391 >,
      < 2.77837, -2, -15.7569 >,
      Neon_Rad
   }
   sphere { < 2.77837, -2, -15.7569 >, Neon_Rad }
   cylinder {
      < 2.77837, 0, -15.7569 >,
      < 4.14111, 0, -15.4548 >,
      Neon_Rad
   }
   sphere { < 4.14111, 0, -15.4548 >, Neon_Rad }
   cylinder {
      < 2.77837, -2, -15.7569 >,
      < 4.14111, -2, -15.4548 >,
      Neon_Rad
   }
   sphere { < 4.14111, -2, -15.4548 >, Neon_Rad }
   cylinder {
      < 4.14111, 0, -15.4548 >,
      < 5.47232, 0, -15.0351 >,
      Neon_Rad
   }
   sphere { < 5.47232, 0, -15.0351 >, Neon_Rad }
   cylinder {
      < 4.14111, -2, -15.4548 >,
      < 5.47232, -2, -15.0351 >,
      Neon_Rad
   }
   sphere { < 5.47232, -2, -15.0351 >, Neon_Rad }
   cylinder {
      < 5.47232, 0, -15.0351 >,
      < 6.76189, 0, -14.5009 >,
      Neon_Rad
   }
   sphere { < 6.76189, 0, -14.5009 >, Neon_Rad }
   cylinder {
      < 5.47232, -2, -15.0351 >,
      < 6.76189, -2, -14.5009 >,
      Neon_Rad
   }
   sphere { < 6.76189, -2, -14.5009 >, Neon_Rad }
   cylinder {
      < 6.76189, 0, -14.5009 >,
      < 8, 0, -13.8564 >,
      Neon_Rad
   }
   sphere { < 8, 0, -13.8564 >, Neon_Rad }
   cylinder {
      < 6.76189, -2, -14.5009 >,
      < 8, -2, -13.8564 >,
      Neon_Rad
   }
   sphere { < 8, -2, -13.8564 >, Neon_Rad }
   cylinder {
      < 8, 0, -13.8564 >,
      < 9.17722, 0, -13.1064 >,
      Neon_Rad
   }
   sphere { < 9.17722, 0, -13.1064 >, Neon_Rad }
   cylinder {
      < 8, -2, -13.8564 >,
      < 9.17722, -2, -13.1064 >,
      Neon_Rad
   }
   sphere { < 9.17722, -2, -13.1064 >, Neon_Rad }
   cylinder {
      < 9.17722, 0, -13.1064 >,
      < 10.2846, 0, -12.2567 >,
      Neon_Rad
   }
   sphere { < 10.2846, 0, -12.2567 >, Neon_Rad }
   cylinder {
      < 9.17722, -2, -13.1064 >,
      < 10.2846, -2, -12.2567 >,
      Neon_Rad
   }
   sphere { < 10.2846, -2, -12.2567 >, Neon_Rad }
   cylinder {
      < 10.2846, 0, -12.2567 >,
      < 11.3137, 0, -11.3137 >,
      Neon_Rad
   }
   sphere { < 11.3137, 0, -11.3137 >, Neon_Rad }
   cylinder {
      < 10.2846, -2, -12.2567 >,
      < 11.3137, -2, -11.3137 >,
      Neon_Rad
   }
   sphere { < 11.3137, -2, -11.3137 >, Neon_Rad }
   cylinder {
      < 11.3137, 0, -11.3137 >,
      < 12.2567, 0, -10.2846 >,
      Neon_Rad
   }
   sphere { < 12.2567, 0, -10.2846 >, Neon_Rad }
   cylinder {
      < 11.3137, -2, -11.3137 >,
      < 12.2567, -2, -10.2846 >,
      Neon_Rad
   }
   sphere { < 12.2567, -2, -10.2846 >, Neon_Rad }
   cylinder {
      < 12.2567, 0, -10.2846 >,
      < 13.1064, 0, -9.17722 >,
      Neon_Rad
   }
   sphere { < 13.1064, 0, -9.17722 >, Neon_Rad }
   cylinder {
      < 12.2567, -2, -10.2846 >,
      < 13.1064, -2, -9.17722 >,
      Neon_Rad
   }
   sphere { < 13.1064, -2, -9.17722 >, Neon_Rad }
   cylinder {
      < 13.1064, 0, -9.17722 >,
      < 13.8564, 0, -8 >,
      Neon_Rad
   }
   sphere { < 13.8564, 0, -8 >, Neon_Rad }
   cylinder {
      < 13.1064, -2, -9.17722 >,
      < 13.8564, -2, -8 >,
      Neon_Rad
   }
   sphere { < 13.8564, -2, -8 >, Neon_Rad }
   cylinder {
      < 13.8564, 0, -8 >,
      < 14.5009, 0, -6.76189 >,
      Neon_Rad
   }
   sphere { < 14.5009, 0, -6.76189 >, Neon_Rad }
   cylinder {
      < 13.8564, -2, -8 >,
      < 14.5009, -2, -6.76189 >,
      Neon_Rad
   }
   sphere { < 14.5009, -2, -6.76189 >, Neon_Rad }
   cylinder {
      < 14.5009, 0, -6.76189 >,
      < 15.0351, 0, -5.47232 >,
      Neon_Rad
   }
   sphere { < 15.0351, 0, -5.47232 >, Neon_Rad }
   cylinder {
      < 14.5009, -2, -6.76189 >,
      < 15.0351, -2, -5.47232 >,
      Neon_Rad
   }
   sphere { < 15.0351, -2, -5.47232 >, Neon_Rad }
   cylinder {
      < 15.0351, 0, -5.47232 >,
      < 15.4548, 0, -4.1411 >,
      Neon_Rad
   }
   sphere { < 15.4548, 0, -4.1411 >, Neon_Rad }
   cylinder {
      < 15.0351, -2, -5.47232 >,
      < 15.4548, -2, -4.1411 >,
      Neon_Rad
   }
   sphere { < 15.4548, -2, -4.1411 >, Neon_Rad }
   cylinder {
      < 15.4548, 0, -4.1411 >,
      < 15.7569, 0, -2.77837 >,
      Neon_Rad
   }
   sphere { < 15.7569, 0, -2.77837 >, Neon_Rad }
   cylinder {
      < 15.4548, -2, -4.1411 >,
      < 15.7569, -2, -2.77837 >,
      Neon_Rad
   }
   sphere { < 15.7569, -2, -2.77837 >, Neon_Rad }
   cylinder {
      < 15.7569, 0, -2.77837 >,
      < 15.9391, 0, -1.39449 >,
      Neon_Rad
   }
   sphere { < 15.9391, 0, -1.39449 >, Neon_Rad }
   cylinder {
      < 15.7569, -2, -2.77837 >,
      < 15.9391, -2, -1.39449 >,
      Neon_Rad
   }
   sphere { < 15.9391, -2, -1.39449 >, Neon_Rad }
   cylinder {
      < 15.9391, 0, -1.39449 >,
      < 16, 0, 0 >,
      Neon_Rad
   }
   sphere { < 16, 0, 0 >, Neon_Rad }
   cylinder {
      < 15.9391, -2, -1.39449 >,
      < 16, -2, 0 >,
      Neon_Rad
   }
   sphere { < 16, -2, 0 >, Neon_Rad }
}
*/

#declare Speaker_Neon = difference {
   torus {
      Neon_Size, Neon_Rad
      
      pigment { color rgbt 1 }
      finish { ambient 4.0 diffuse 0 reflection 0.5}
      hollow
      interior {
         media {
            emission rgb <1, 0.01, 0.001> * neonRedBrightness
            // emission rgb color_val * 15
            density {
               function { f_torus(x,y,z,Neon_Size,(Neon_Rad/2)) }
            }
         }
      }
   }
   plane { < 0, 0, -1 >, 0 }
}

object {
   Speaker_Neon
   /*
   texture {
      pigment { color Red }
     finish {
     #if (displayNeon = true)
        ambient 0.9
     #else
        ambient 0.5
     #end
        diffuse 0.0
        reflection .25
        // refraction 1
        // ior 1.5
        specular 1
        roughness .001
     }
   }
   */
   translate < 0, Neon_Height, 178 >
}

object {
   Speaker_Neon
   /*
   texture {
      pigment { color Red }
     finish {
     #if (displayNeon = true)
        ambient 0.9
     #else
        ambient 0.5
     #end
        diffuse 0.0
        reflection .25
        // refraction 1
        // ior 1.5
        specular 1
        roughness .001
     }
   }
   */
   translate < 0, Neon_Height - 2, 178 >
}
